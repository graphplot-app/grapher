<div ng-class="{blur: _person.open || _group.open || _role.open}">
  <div id="main">
    <header>
      <h1>Social Cartography</h1>
    </header>

    <div id="display">
    </div>
    
    <nav>
      <div class="sidebar btn-group-vertical"> 
        <input class="btn btn-primary" type="button" ng-click="_person.showModal();" value="New Person">
        <input class="btn btn-primary" type="button" ng-click="_group.showModal();" value="New Group">
        <input class="btn btn-primary" type="button" ng-click="_role.showModal();" value="New Role">
        <input class="btn btn-info" type="button" ng-click="_person_list.showModal();" value="Person List">
        <input class="btn btn-info" type="button" ng-click="_group_list.showModal();" value="Group List">
        <input class="btn btn-info" type="button" ng-click="_role_list.showModal();" value="Role List">
        <!--<input type="image" ng-src="img/upload.white.png" ng-click="upload_graph();" alt="upload">-->
        <input class="btn btn-success" type="button" ng-click="download_graph();" value="Download">
      </div>
    </nav>
    
    <div id="timeline-container">
    </div>
  </div>
</div>

<dialog id="person">
  <h3>Person</h3>
  <form class="form" method="dialog">
    <label class="label" for="person-name">Name:</label>
    <input class="form-control" id="person-name">
    <br>

    <label class="label" for="person-birth">Date of Birth:</label>
    <input class="form-control" id="person-birth" ng-model="person_birth" type="date">
    <br> 
  
    <label class="label" for="person-death">Date of Death:</label>
    <input class="form-control" id="person-death" ng-model="person_death" type="date">
    <br> 

    <label class="label" for="person-picture">Picture</label>
    <input type="file" id="person-picture" onchange="this.loadPersonPicture();" accept="image/*">
    
    <menu>
      <button class="btn btn-success" ng-click="_process_person(); _person.close();">Confirm</button>
      <button class="btn btn-secondary" ng-click="_person.close();">Cancel</button>
    </menu>
  </form>
</dialog>

<dialog id="person-list">
  <h3>Person List</h3>
  <form class="form" method="dialog">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Date of Death</th>
          <th>Image Path</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="person in people">
          <td>{{person.name}}</td>
          <td>{{person.date_of_birth}}</td>
          <td>{{person.date_of_death}}</td>
          <td>{{person.picture.slice(0, 10)}}</td>
        </tr>
      </tbody>
    </table>
    <br>
    <button class="btn btn-secondary" ng-click="_person_list.close();">Dismiss</button>
  </form>
</dialog>

<dialog id="group">
  <h3>Group</h3>
  <form class="form" method="dialog">
    <label class="label" for="group-name">Name:</label>
    <input class="form-control" id="group-name">
    <br>

    <label class="label" for="group-start">Start date:</label>
    <input class="form-control" id="group-start" ng-model="group_start" type="date">
    <br> 
  
    <label class="label" for="group-end">End date:</label>
    <input class="form-control" id="group-death" ng-model="group_end" type="date">
    <br> 
    
    <label class="label" for="group-picture">Picture</label>
    <input type="file" id="group-picture" onchange="this.loadGroupPicture();" accept="image/*">
    <br>

    <menu>
      <button class="btn btn-success" ng-click="_process_group(); _group.close();">Confirm</button>
      <button class="btn btn-secondary" ng-click="_group.close();">Cancel</button>
    </menu>
  </form>
</dialog>

<dialog id="group-list">
    <h3>Group List</h3>
    <form class="form" method="dialog">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Image Path</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="group in groups">
            <td>{{group.name}}</td>
            <td>{{group.start}}</td>
            <td>{{group.end}}</td>
            <td>{{group.picture.slice(0, 10)}}</td>
          </tr>
        </tbody>
      </table>
      <button class="btn btn-secondary" ng-click="_group_list.close();">Dismiss</button>
    </form>
  </dialog>

<dialog id="role">
  <h3>Role</h3>
  <form class="form" method="dialog">
    <label class="label" for="role-person">Person:</label>
    <select class="form-control" id="role-person">
      <option ng-repeat="person in people track by $index" ng-value="$index">{{person.name}}</option>
    </select>
    <br>

    <label class="label" for="role-group">Group:</label>
    <select class="form-control" id="role-group">
      <option ng-repeat="group in groups track by $index" ng-value="$index">{{group.name}}</option>
    </select>
    <br>

    <label class="label" for="role-start">Start Date:</label>
    <input type="date" id="role-start">
    <br>

    <label class="label" for="role-end">End Date:</label>
    <input type="date" id="role-end">
    <br>

    <label class="label" for="role-picture">Picture</label>
    <input type="file" id="role-picture" onchange="this.loadRolePicture();" accept="image/*">


    <menu>
      <button class="btn btn-success" ng-click="_process_role(); _role.close();">Confirm</button>
      <button class="btn btn-secondary" ng-click="_role.close();">Cancel</button>
    </menu>
  </form>
</dialog>

<dialog id="role-list">
  <h3>Role List</h3>
  <form class="form" method="dialog">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Image</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="role in roles">
          <td>{{role.name}}</td>
          <td>{{role.start}}</td>
          <td>{{role.end}}</td>
          <td>{{role.picture.slice(0, 10)}}</td>
        </tr>
      </tbody>
    </table>
    <br>
    <button class="btn btn-secondary" ng-click="_role_list.close();">Dismiss</button>
  </form>
</dialog>